
	
	![[Pasted image 20240919190511.png]]
	
	엔터프라이즈 어플리케이션을 만든다고 하면 기본적으로 사용하는 레이어가 사용자의 비즈
	니스에 맞는 사용자의 요구에 맞는 서비스를 담당하고 있는 서비스 레이어와 그 데이터
	소스에 접근하는 방법이라든지 구현 기술 이런걸 숨기고 단순하게 서비스 레이어 에서
	순수하게 자바라는 것을 이용해서 데이터를 제공 받을수 있게 해주는 DAO 가있다.

	이상태에서 프로그램이 만들어 진다고 가정정을 해보자 사용자가 어떤 요청을 하고 그
	요청을 수반하는 데이터를 제공받으려고 하는데 그 제공받는 데이터가 어디에서 제공됬든 
	DAO가 제공해주는 데이터로 업무 로직을 처리하게 될거다. 

	프로그램이란 항상 수정이라는 것이 동반한다. 예를 들어 B1 이라는 녀석의 로직이 달라
	졌다던지. 서비스에 대한 내용이 달라져서 B1을 바꿔야 한다고 가정해보자. B1을 바꾸기
	위해서 어떤 방법을 쓸까
	
	![[Pasted image 20240919191448.png]]
	
	방법1
	B1의 소스코드를 구해서 그 소스 코드를 수정한다.
	 그래서 B1을 다른 모양으로 바꾸는거다
	
	![[Pasted image 20240919191606.png]]
	
	방법2
	B1은 그대로 두고 새로 B2를 만든다. 덮어 씌우는 거다 이러면 문제가 뭐냐면
	B2를 생성해서 사용하는 녀석이 S 인데 덮어씌우는 건 좋은데 S는 수정없이 B2를
	사용할수 있냐는 거다. 안된다 S를 수정해야 한다.


	![[Pasted image 20240919192241.png]]
	
	B2를 사용하기위해 코드가 바뀌어야 한다.
	 원래 B1이라는 데이터타입으로 B1을 참조하고 있었는데 B2코드를 덮어씌우면 S에서
	 B1코드를 B2로 바뀌어야 한다 DAO 부분에서는 그냥 덮어씌우면 끝나니까 좋아졌다(?)

	하지만 코드를 손대는 곳이 DAO 에서 Service로 바뀌었을뿐 수정해야 하는게 
	달라진게 없다.

	그럼 덮어씌우게하되 가능한 수정은 없도록 가능한 쉽도록 하자이다.

	현재 이상태가 "결합력이 높다" S가 B2를 쓰는데 소스코드를 수정해야지만 바꿀수 있다.
	어떻게 하면 소스코드 없이 DAO를 바꿀수 있을까 어떻게하면 결합력을 낮출수 있을까.

	
	![[Pasted image 20240919193157.png]]

	이렇게 해보겠다 사용하는 데이터 타입을 B1 B2 이렇게 하지 않고 B로만 할것이다
	 B1과 B2가 달라졌다고 하는 것이 S 가사용하는 서비스 자체가 틀자체가 달라진것이
	 아니라 함수의 내부적인 코드만 좀 달라진것 뿐이다. B2는 B1의 개선된 녀석이라고 
	 보면 되는데 그럼 서비스 틀은 똑같다는 거다. 자바 할때 지겹게 배운 다형성이다
	그것도 인터페이스

	![[Pasted image 20240919194142.png]]
	 
	 이렇게 하는게 더 바람직 하다. DAO를 인터페이스로 만들고 B1 B2는 B인터페이스로
	 구현했다고 하면 S 쪽에서는 인터페이스 타입으로 사용하되  구현객체만 꼽으면 된다.

	그리고 new 로 생성하는 부분을 어떻게 바꾸냐면 Service와 DAO를 결합시키는 작업인데
	이걸 누가 어떻게 하냐면 UI쪽에서 한다 뭐 간단하다 new B2(); 이부분 까지 코드 수정
	없이 해야하니 외부 설정 파일에서 객체를 받아오면 된다 자바 공부 할때 다 나온 내용
	이다

[[DI]]
	 
	
	

	
	